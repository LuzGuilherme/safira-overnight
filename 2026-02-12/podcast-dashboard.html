<!DOCTYPE html>
<html lang="pt" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéß Podcast Digests ‚Äî Safira</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        safira: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #0c4a6e 0%, #1e3a5f 50%, #0f172a 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }
        .tag {
            transition: all 0.2s ease;
        }
        .tag:hover {
            transform: scale(1.05);
        }
        .insight-card {
            border-left: 3px solid #0ea5e9;
        }
        .quote-card {
            border-left: 3px solid #f59e0b;
        }
        .action-checkbox:checked + span {
            text-decoration: line-through;
            opacity: 0.6;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg border-b border-slate-700/50 sticky top-0 z-50 backdrop-blur-sm">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="text-3xl">üéß</span>
                    <div>
                        <h1 class="text-xl font-bold text-white">Podcast Digests</h1>
                        <p class="text-sm text-slate-400">Conhecimento condensado pela Safira ‚ú®</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Pesquisar..." 
                               class="bg-slate-800/80 border border-slate-600 rounded-lg px-4 py-2 pl-10 text-sm focus:outline-none focus:ring-2 focus:ring-safira-500 w-64">
                        <svg class="absolute left-3 top-2.5 w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    <div id="stats" class="text-sm text-slate-400">
                        <span id="digestCount">0</span> digests
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Filters -->
        <div class="flex flex-wrap gap-2 mb-8" id="tagFilters">
            <button class="tag-filter active px-3 py-1.5 rounded-full text-sm font-medium bg-safira-600 text-white" data-tag="all">
                Todos
            </button>
        </div>

        <!-- Digest List -->
        <div id="digestList" class="space-y-6">
            <!-- Digests will be inserted here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="hidden text-center py-20">
            <span class="text-6xl mb-4 block">üéß</span>
            <h2 class="text-2xl font-bold text-slate-300 mb-2">Nenhum digest encontrado</h2>
            <p class="text-slate-500">Os podcasts analisados aparecer√£o aqui.</p>
        </div>
    </main>

    <!-- Detail Modal -->
    <div id="detailModal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden overflow-y-auto">
        <div class="min-h-screen px-4 py-8 flex items-start justify-center">
            <div class="bg-slate-800 rounded-2xl max-w-4xl w-full shadow-2xl fade-in" id="modalContent">
                <!-- Content inserted by JS -->
            </div>
        </div>
    </div>

    <script>
        // Data
        let digestsData = {"generated":"2026-02-12T02:00:57.044388Z","count":1,"digests":[{"id":"2026-02-11-sleep-michael-breus","filename":"2026-02-11-sleep-michael-breus.md","date":"2026-02-11","title":"The Sleep Doctor: This Is Destroying Your Sleep & Relationship","host":"Steven Bartlett (Diary of a CEO)","guest":"Dr. Michael Breus ‚Äî Sleep Specialist, PhD, 26 anos de pr√°tica","duration":"~2h 15min","link":"https://www.youtube.com/watch?v=pXlMKzcZlwM","tldr":"O sono √© a base de tudo ‚Äî performance, rela√ß√µes, criatividade, e preven√ß√£o de doen√ßas como Alzheimer. Cada pessoa tem um chronotype gen√©tico (Lion/Bear/Wolf/Dolphin) que determina os melhores hor√°rios para cada actividade. Sleep apnea afecta 1 em 7 adultos, 80-90% n√£o sabem que t√™m, e √© t√£o comum como diabetes.","insights":[{"insight":"Caf√© s√≥ 90min depois de acordar","why":"Cortisol j√° est√° alto; caf√© depois = maior boost"},{"insight":"Sleep apnea = Alzheimer risk +45%","why":"N√£o entra em fase 4 onde c√©rebro limpa prote√≠nas"},{"insight":"√Ålcool destr√≥i sono profundo","why":"Mesmo 1-2 copos; parar 3h antes de dormir"},{"insight":"Melhor hora de cada actividade depende do chronotype","why":"Podes optimizar trabalho, treino, sexo, caf√©"},{"insight":"Cookie antes de dormir = heart rate alto 3h","why":"A√ß√∫car + digest√£o mant√©m corpo acordado"},{"insight":"T√©cnica 4-7-8 funciona em 20 ciclos","why":"Baixa batimento card√≠aco abaixo de 60bpm"},{"insight":"Pillows: nariz alinhado com esterno","why":"Desalinhamento = dor = n√£o entra em deep sleep"},{"insight":"Dreams resolvem problemas","why":"\"Sleep on it\" √© literalmente terapia gratuita"}],"actions":{"immediate":["Fazer quiz em chronoquiz.com para descobrir chronotype","Definir alarme para acordar √† mesma hora amanh√£ (e manter 7 dias)","Remover snacks a√ßucarados do quarto"],"week":["Experimentar caf√© s√≥ depois de 90min acordado (5 dias)","Tentar t√©cnica 4-7-8 antes de dormir (3 noites)","Verificar temperatura do quarto (baixar se >20¬∞C)","Parar √°lcool 3h antes de deitar (se aplic√°vel)"],"longterm":["Considerar teste de sleep apnea (especialmente se ressonas)","Criar rotina nocturna: 20min tarefas + 20min higiene + 20min relaxamento","Avaliar pillow actual (nariz alinhado com esterno?)","Fazer banana tea ritual (magn√©sio natural)"]},"quotes":["When you change someone's sleep, you change their life.","You can't force your brain to sleep. In the history of time, nobody has ever been able to force their brain to sleep.","Dreams are emotional metabolism ‚Äî you're working through your emotional states from the daytime.","Right is wrong ‚Äî don't sleep on your right side, sleep on your left.","Sleep is recovery. If you want to lead a nice, prosperous life, you want to sleep."],"rating":5,"tags":["sono","chronotype","sleep-apnea","melatonina","performance","recovery","sa√∫de","produtividade","biohacking","circadian-rhythm"],"sections":{}}]};
        
        let activeTag = 'all';
        let searchQuery = '';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderTagFilters();
            renderDigests();
            updateStats();
            setupEventListeners();
        });

        function renderTagFilters() {
            const container = document.getElementById('tagFilters');
            const allTags = new Set();
            
            digestsData.digests.forEach(d => {
                d.tags.forEach(t => allTags.add(t));
            });

            const sortedTags = Array.from(allTags).sort();
            
            sortedTags.forEach(tag => {
                const btn = document.createElement('button');
                btn.className = 'tag-filter px-3 py-1.5 rounded-full text-sm font-medium bg-slate-700 text-slate-300 hover:bg-slate-600';
                btn.dataset.tag = tag;
                btn.textContent = `#${tag}`;
                container.appendChild(btn);
            });
        }

        function renderDigests() {
            const container = document.getElementById('digestList');
            const emptyState = document.getElementById('emptyState');
            
            const filtered = digestsData.digests.filter(d => {
                const matchesTag = activeTag === 'all' || d.tags.includes(activeTag);
                const matchesSearch = searchQuery === '' || 
                    d.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    d.guest.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    d.tldr.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesTag && matchesSearch;
            });

            if (filtered.length === 0) {
                container.innerHTML = '';
                emptyState.classList.remove('hidden');
                return;
            }

            emptyState.classList.add('hidden');
            container.innerHTML = filtered.map(d => renderDigestCard(d)).join('');
        }

        function renderDigestCard(digest) {
            const stars = '‚≠ê'.repeat(digest.rating);
            const date = new Date(digest.date).toLocaleDateString('pt-PT', { 
                day: 'numeric', month: 'short', year: 'numeric' 
            });

            return `
                <div class="card-hover bg-slate-800/80 rounded-xl border border-slate-700/50 overflow-hidden cursor-pointer" 
                     onclick="openDetail('${digest.id}')">
                    <div class="p-6">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 text-sm text-slate-400 mb-2">
                                    <span>${date}</span>
                                    <span>‚Ä¢</span>
                                    <span>${digest.duration}</span>
                                    <span>‚Ä¢</span>
                                    <span>${stars}</span>
                                </div>
                                <h2 class="text-xl font-bold text-white mb-1">${digest.title}</h2>
                                <p class="text-safira-400 text-sm">${digest.guest}</p>
                                <p class="text-slate-500 text-xs">${digest.host}</p>
                            </div>
                            <a href="${digest.link}" target="_blank" 
                               class="text-red-500 hover:text-red-400 p-2" 
                               onclick="event.stopPropagation()">
                                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                </svg>
                            </a>
                        </div>
                        
                        <p class="text-slate-300 text-sm mb-4 line-clamp-3">${digest.tldr}</p>
                        
                        <div class="flex flex-wrap gap-2">
                            ${digest.tags.slice(0, 5).map(t => `
                                <span class="tag px-2 py-1 bg-slate-700/50 text-slate-400 text-xs rounded-full">#${t}</span>
                            `).join('')}
                            ${digest.tags.length > 5 ? `<span class="text-slate-500 text-xs">+${digest.tags.length - 5}</span>` : ''}
                        </div>
                    </div>
                    
                    <div class="bg-slate-700/30 px-6 py-3 flex items-center justify-between text-sm">
                        <span class="text-slate-400">
                            üí° ${digest.insights.length} insights ‚Ä¢ ‚úÖ ${
                                digest.actions.immediate.length + 
                                digest.actions.week.length + 
                                digest.actions.longterm.length
                            } ac√ß√µes
                        </span>
                        <span class="text-safira-400 font-medium">Ver detalhes ‚Üí</span>
                    </div>
                </div>
            `;
        }

        function openDetail(id) {
            const digest = digestsData.digests.find(d => d.id === id);
            if (!digest) return;

            const modal = document.getElementById('detailModal');
            const content = document.getElementById('modalContent');
            
            content.innerHTML = `
                <div class="sticky top-0 bg-slate-800 border-b border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-2xl">
                    <h2 class="text-xl font-bold text-white truncate flex-1 mr-4">${digest.title}</h2>
                    <button onclick="closeDetail()" class="text-slate-400 hover:text-white p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                
                <div class="p-6 space-y-8">
                    <!-- Meta -->
                    <div class="flex flex-wrap items-center gap-4 text-sm text-slate-400">
                        <span>üìÖ ${digest.date}</span>
                        <span>‚è±Ô∏è ${digest.duration}</span>
                        <span>${'‚≠ê'.repeat(digest.rating)}</span>
                        <a href="${digest.link}" target="_blank" class="text-red-500 hover:text-red-400 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                            Ver no YouTube
                        </a>
                    </div>
                    
                    <!-- Guest -->
                    <div class="bg-safira-900/30 border border-safira-700/30 rounded-xl p-4">
                        <p class="text-safira-300 font-medium">${digest.guest}</p>
                        <p class="text-slate-500 text-sm">${digest.host}</p>
                    </div>
                    
                    <!-- TL;DR -->
                    <div>
                        <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                            üéØ TL;DR
                        </h3>
                        <p class="text-slate-300 leading-relaxed">${digest.tldr}</p>
                    </div>
                    
                    <!-- Insights -->
                    <div>
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            üí° Top Insights
                        </h3>
                        <div class="space-y-3">
                            ${digest.insights.map((i, idx) => `
                                <div class="insight-card bg-slate-700/30 rounded-lg p-4 pl-5">
                                    <p class="text-white font-medium">${idx + 1}. ${i.insight}</p>
                                    <p class="text-slate-400 text-sm mt-1">${i.why}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Actions -->
                    <div>
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            ‚úÖ Ac√ß√µes Pr√°ticas
                        </h3>
                        
                        ${digest.actions.immediate.length > 0 ? `
                            <div class="mb-4">
                                <h4 class="text-sm font-medium text-amber-400 mb-2">üî• Fazer Hoje</h4>
                                <div class="space-y-2">
                                    ${digest.actions.immediate.map(a => `
                                        <label class="flex items-start gap-3 cursor-pointer group">
                                            <input type="checkbox" class="action-checkbox mt-1 rounded border-slate-600 bg-slate-700 text-safira-500 focus:ring-safira-500">
                                            <span class="text-slate-300 group-hover:text-white transition-colors">${a}</span>
                                        </label>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        ${digest.actions.week.length > 0 ? `
                            <div class="mb-4">
                                <h4 class="text-sm font-medium text-blue-400 mb-2">üìÖ Esta Semana</h4>
                                <div class="space-y-2">
                                    ${digest.actions.week.map(a => `
                                        <label class="flex items-start gap-3 cursor-pointer group">
                                            <input type="checkbox" class="action-checkbox mt-1 rounded border-slate-600 bg-slate-700 text-safira-500 focus:ring-safira-500">
                                            <span class="text-slate-300 group-hover:text-white transition-colors">${a}</span>
                                        </label>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        ${digest.actions.longterm.length > 0 ? `
                            <div>
                                <h4 class="text-sm font-medium text-green-400 mb-2">üéØ Longo Prazo</h4>
                                <div class="space-y-2">
                                    ${digest.actions.longterm.map(a => `
                                        <label class="flex items-start gap-3 cursor-pointer group">
                                            <input type="checkbox" class="action-checkbox mt-1 rounded border-slate-600 bg-slate-700 text-safira-500 focus:ring-safira-500">
                                            <span class="text-slate-300 group-hover:text-white transition-colors">${a}</span>
                                        </label>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <!-- Quotes -->
                    ${digest.quotes.length > 0 ? `
                        <div>
                            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                üí¨ Quotes Memor√°veis
                            </h3>
                            <div class="space-y-3">
                                ${digest.quotes.map(q => `
                                    <div class="quote-card bg-slate-700/30 rounded-lg p-4 pl-5">
                                        <p class="text-slate-300 italic">"${q}"</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <!-- Tags -->
                    <div class="flex flex-wrap gap-2 pt-4 border-t border-slate-700">
                        ${digest.tags.map(t => `
                            <span class="tag px-3 py-1 bg-slate-700/50 text-slate-400 text-sm rounded-full">#${t}</span>
                        `).join('')}
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeDetail() {
            document.getElementById('detailModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        function updateStats() {
            document.getElementById('digestCount').textContent = digestsData.digests.length;
        }

        function setupEventListeners() {
            // Search
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchQuery = e.target.value;
                renderDigests();
            });

            // Tag filters
            document.getElementById('tagFilters').addEventListener('click', (e) => {
                if (e.target.classList.contains('tag-filter')) {
                    document.querySelectorAll('.tag-filter').forEach(btn => {
                        btn.classList.remove('bg-safira-600', 'text-white');
                        btn.classList.add('bg-slate-700', 'text-slate-300');
                    });
                    e.target.classList.remove('bg-slate-700', 'text-slate-300');
                    e.target.classList.add('bg-safira-600', 'text-white');
                    
                    activeTag = e.target.dataset.tag;
                    renderDigests();
                }
            });

            // Modal close on backdrop click
            document.getElementById('detailModal').addEventListener('click', (e) => {
                if (e.target.id === 'detailModal') {
                    closeDetail();
                }
            });

            // Escape key to close modal
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeDetail();
                }
            });
        }
    </script>
</body>
</html>
